<html>
 <head>
  <title>
   UNIVERSITAS PAMULANG
  </title>
  <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" rel="stylesheet"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="styles.css">
  <script src="script.js"></script>
 </head>

 <body>
  <div class="d-flex">
   <div class="sidebar">
    <div class="text-center mb-4">
     <img alt="University Logo" class="img-fluid rounded-circle" height="100" src="https://th.bing.com/th?id=OIP.ANofw_4KYnBD80k7LNc27gAAAA&w=212&h=205&c=8&rs=1&qlt=90&o=6&dpr=1.3&pid=3.1&rm=2" width="100"/>
     <h5 class="mt-2">
      Universitas Pamulang
     </h5>
    </div>

    <!-- Welcome Message -->
<div class="welcome-section text-center mb-4">
    <img src="WhatsApp Image 2024-11-02 at 23.48.10.jpeg" alt="User Avatar" class="rounded-circle mb-2">
    <p class="mb-0">Welcome, Caesar Ariel</p>
    <small class="text-light">Administrator</small>
</div>

    <nav class="nav flex-column">
     <a class="nav-link active" onclick="showContent('dashboard-content', this)" href="#">
      <i class="fas fa-tachometer-alt">
      </i>
      Dashboard
    </a>
      <strong>
       MENU KARYAWAN
      </strong>
     </p>
     <a class="nav-link" onclick="showContent('karyawan-content', this)" href="#">
      <i class="fas fa-user">
      </i>
      Karyawan
     </a>
     <a class="nav-link" onclick="showContent('jabatan-content', this)" href="jabatan.html">
      <i class="fas fa-briefcase">
      </i>
      Jabatan
     </a>
     <a class="nav-link" onclick="showContent('divisi-content', this)" href="divisi.html">
      <i class="fas fa-building">
      </i>
      Divisi
     </a>
     <p class="mt-3">
      <strong>
       MENU ABSENSI
      </strong>
     </p>
     <a class="nav-link" onclick="showContent('absensi-content', this)" href="absensi.html">
      <i class="fas fa-calendar-check">
      </i>
      Absensi
     </a>
     <a class="nav-link" onclick="showContent('izin-content', this)" href="">
      <i class="fas fa-calendar-times">
      </i>
      Izin
     </a>
     <a class="nav-link" onclick="showContent('lembur-content', this)" href="lembur.html">
      <i class="fas fa-clock">
      </i>
      Lembur
     </a>
     <p class="mt-3">
      <strong>
       MENU PENGGAJIAN
      </strong>
     </p>
     <a class="nav-link" onclick="showContent('slip-gaji-content', this)" href="slipgaji.html">
      <i class="fas fa-file-invoice-dollar">
      </i>
      Slip Gaji
     </a>
     <a class="nav-link" onclick="showContent('cetak-gaji-content', this)" href="slipgaji.html">
      <i class="fas fa-print">
      </i>
      Cetak Gaji
     </a>
     <p class="mt-3">
      <strong>
       MENU LAPORAN
      </strong>
     </p>
     <a class="nav-link" onclick="showContent('cetak-laporan-content', this)" href="laporan.html">
      <i class="fas fa-file-alt">
      </i>
      Cetak Laporan
     </a>
     <a class="nav-link" onclick="showContent('logout-content', this)" href src="">
      <i class="fas fa-sign-out-alt">
      </i>
      Logout
     </a>
    </nav>
   </div>
   <div class="content flex-grow-1">
    <div class="header">
     <h4>
      UNIVERSITAS PAMULANG
     </h4>
    </div>
    <div id="dashboard-content" class="content-section mt-4">
     <h5>
      SISTEM INFORMASI MANAJEMEN KARYAWAN
     </h5>
     <p>
      Dashboard Administrator
     </p>
     <div class="row">
      <div class="col-md-3">
       <div class="card text-center p-3">
        <i class="fas fa-users">
        </i>
        <h6 class="mt-2">
         Data Pegawai
        </h6>
        <p>
         15
        </p>
       </div>
      </div>
      <div class="col-md-3">
       <div class="card text-center p-3">
        <i class="fas fa-calendar-check">
        </i>
        <h6 class="mt-2">
         Absensi Hari Ini
        </h6>
        <p>
         10
        </p>
       </div>
      </div>
      <div class="col-md-3">
       <div class="card text-center p-3">
        <i class="fas fa-envelope-open">
        </i>
        <h6 class="mt-2">
         Izin Menunggu Konfirmasi
        </h6>
        <p>
         5
        </p>
       </div>
      </div>
      <div class="col-md-3">
       <div class="card text-center p-3">
        <i class="fas fa-clock">
        </i>
        <h6 class="mt-2">
         Lembur Menunggu Konfirmasi
        </h6>
        <p>
         0
        </p>
       </div>
      </div>
     </div>
    </div>
    <div id="karyawan-content" class="content-section mt-4" style="display: none;">
        <!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Karyawan</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        form {
            margin-top: 20px;
        }
        label {
            display: block;
            margin: 5px 0;
        }
        input[type="text"], input[type="date"], input[type="number"], select {
            width: 100%;
            padding: 8px;
            margin: 5px 0 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        input[type="submit"], button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 5px;
        }
        input[type="submit"]:hover, button:hover {
            background-color: #45a049;
        }
        .action-buttons {
            display: flex;
            gap: 5px;
        }
    </style>
</head>
<body>

<h1>Data Karyawan PT Unpam</h1>

<table id="employeeTable">
    <thead>
        <tr>
            <th>No</th>
            <th>Nama Karyawan</th>
            <th>NIK</th>
            <th>Jabatan</th>
            <th>Divisi</th>
            <th>Tanggal Bergabung</th>
            <th>Status Karyawan</th>
            <th>Gaji Bulanan</th>
            <th>Aksi</th>
        </tr>
    </thead>
    <tbody>
        <!-- Data Karyawan akan ditambahkan di sini -->
    </tbody>
</table>

<h2>Formulir Tambah/Edit Karyawan</h2>
<form id="employeeForm">
    <input type="hidden" id="index" name="index" value="-1">
    <label for="nama">Nama Karyawan:</label>
    <input type="text" id="nama" name="nama" required>

    <label for="nik">NIK:</label>
    <input type="text" id="nik" name="nik" required>

    <label for="jabatan">Jabatan:</label>
    <input type="text" id="jabatan" name="jabatan" required>

    <label for="departemen">Divisi:</label>
    <input type="text" id="departemen" name="departemen" required>

    <label for="tanggal-bergabung">Tanggal Bergabung:</label>
    <input type="date" id="tanggal-bergabung" name="tanggal-bergabung" required>

    <label for="status-karyawan">Status Karyawan:</label>
    <select id="status-karyawan" name="status-karyawan" required>
        <option value="Aktif">Aktif</option>
        <option value="Tidak Aktif">Tidak Aktif</option>
    </select>

    <label for="gaji-bulanan">Gaji Bulanan:</label>
    <input type="number" id="gaji-bulanan" name="gaji-bulanan" required>

    <input type="submit" value="Simpan Karyawan">
</form>

<script>
    let employees = JSON.parse(localStorage.getItem('employees')) || [];
    const employeeTable = document.getElementById('employeeTable').getElementsByTagName('tbody')[0];

    // Fungsi untuk memperbarui tabel
    function updateTable() {
        employeeTable.innerHTML = '';
        employees.forEach((employee, index) => {
            const row = employeeTable.insertRow();
            row.insertCell().innerHTML = index + 1 ;
            row.insertCell().innerHTML = employee.nama;
            row.insertCell().innerHTML = employee.nik;
            row.insertCell().innerHTML = employee.jabatan;
            row.insertCell().innerHTML = employee.departemen;
            row.insertCell().innerHTML = employee.tanggalBergabung;
            row.insertCell().innerHTML = employee.statusKaryawan;
            row.insertCell().innerHTML = employee.gajiBulanan;
            const actionCell = row.insertCell();
            actionCell.className = 'action-buttons';
            const editButton = document.createElement('button');
            editButton.innerHTML = 'Edit';
            editButton.addEventListener('click', function() {
                editEmployee(index);
            });
            actionCell.appendChild(editButton);
            const deleteButton = document.createElement('button');
            deleteButton.innerHTML = 'Hapus';
            deleteButton.addEventListener('click', function() {
                deleteEmployee(index);
            });
            actionCell.appendChild(deleteButton);
        });
    }

    // Fungsi untuk menyimpan karyawan
    document.getElementById('employeeForm').addEventListener('submit', function(event) {
        event.preventDefault();
        const index = document.getElementById('index').value;

        const newEmployee = {
            nama: document.getElementById('nama').value,
            nik: document.getElementById('nik').value,
            jabatan: document.getElementById('jabatan').value,
            departemen: document.getElementById('departemen').value,
            tanggalBergabung: document.getElementById('tanggal-bergabung').value,
            statusKaryawan: document.getElementById('status-karyawan').value,
            gajiBulanan: document.getElementById('gaji-bulanan').value
        };

        if (index === "-1") {
            employees.push(newEmployee); // Tambah karyawan baru
        } else {
            employees[index] = newEmployee; // Edit karyawan yang sudah ada
        }

        localStorage.setItem('employees', JSON.stringify(employees)); // Simpan
        updateTable(); // Perbarui tabel
        resetForm(); // Reset formulir
    });

    // Fungsi untuk mengedit karyawan
    function editEmployee(index) {
        const employee = employees[index];
        document.getElementById('index').value = index;
        document.getElementById('nama').value = employee.nama;
        document.getElementById('nik').value = employee.nik;
        document.getElementById('jabatan').value = employee.jabatan;
        document.getElementById('departemen').value = employee.departemen;
        document.getElementById('tanggal-bergabung').value = employee.tanggalBergabung;
        document.getElementById('status-karyawan').value = employee.statusKaryawan;
        document.getElementById('gaji-bulanan').value = employee.gajiBulanan;
    }

    // Fungsi untuk menghapus karyawan
    function deleteEmployee(index) {
        employees.splice(index, 1);
        localStorage.setItem('employees', JSON.stringify(employees)); // Simpan
        updateTable(); // Perbarui tabel
    }

    // Fungsi untuk mereset formulir
    function resetForm() {
        document.getElementById('index').value = "-1";
        document.getElementById('nama').value = "";
        document.getElementById('nik').value = "";
        document.getElementById('jabatan').value = "";
        document.getElementById('departemen').value = "";
        document.getElementById('tanggal-bergabung').value = "";
        document.getElementById('status-karyawan').value = "Aktif";
        document.getElementById('gaji-bulanan').value = "";
    }

    updateTable(); // Perbarui tabel saat pertama kali di-load
</script>

</body>
</html>
